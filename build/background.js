"use strict";(self.webpackChunkauto_fill=self.webpackChunkauto_fill||[]).push([[352],{5948:function(e,t,n){var r=n(5861),c=n(7757),a=n.n(c),o=n(2434);function s(){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){chrome.notifications.getAll((function(t){e(Object.keys(t))}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return l.apply(this,arguments)}function l(){return l=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,r.Z)(a().mark((function e(n,c){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=22;break}if("string"!=typeof t){e.next=5;break}chrome.notifications.clear(t,(function(e){e?n("Cleared "+t):c("Can't not clear notification "+t)})),e.next=20;break;case 5:if(!Array.isArray(t)){e.next=19;break}return e.prev=6,e.t0=n,e.next=10,Promise.all(t.map((function(e){return i(e)})));case 10:e.t1=e.sent,(0,e.t0)(e.t1),e.next=17;break;case 14:e.prev=14,e.t2=e.catch(6),c(e.t2);case 17:e.next=20;break;case 19:c("Notification_id must be string or array");case 20:e.next=23;break;case 22:s().then(function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=n,e.next=4,i(t);case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),c(e.t2);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}());case 23:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return f=(0,r.Z)(a().mark((function e(){var t,n,r,c=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"Auto Fill",n=c.length>1&&void 0!==c[1]?c[1]:"Happy day!",r=c.length>2?c[2]:void 0,e.abrupt("return",new Promise((function(e,c){chrome.notifications.create(r,{type:"basic",iconUrl:"assets/logo/logo_48.png",title:t,message:n},(function(t){e(t)}))})));case 4:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];chrome.contextMenus.create({contexts:["all"],type:n?"checkbox":"normal",documentUrlPatterns:["https://chamsocsuckhoe.yte360.com/"],checked:n,id:e,title:t})}function m(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];chrome.contextMenus.update("auto_check",{checked:e}),chrome.storage.sync.set({auto_check:e})}chrome.runtime.onInstalled.addListener(function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=console,e.next=4,i();case 4:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),console.log(e.t2);case 11:if(t.reason!==chrome.runtime.OnInstalledReason.INSTALL){e.next=18;break}return e.next=14,o.Z.createDefaultData();case 14:return e.next=16,p("Auto Fill","Welcome to Auto FIll","ok_welcome");case 16:e.next=21;break;case 18:if(t.reason!==chrome.runtime.OnInstalledReason.UPDATE){e.next=21;break}return e.next=21,p("Auto Fill","Update successfully","ok_update");case 21:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),chrome.action.onClicked.addListener((function(){chrome.tabs.create({active:!0,url:chrome.runtime.getURL("index.html")})})),chrome.commands.onCommand.addListener((function(e){"open_app"===e&&chrome.tabs.create({active:!0,url:chrome.runtime.getURL("index.html")})})),chrome.contextMenus.removeAll(),h("auto_check","T\u1ef1 \u0111\u1ed9ng ki\u1ec3m tra",!0),h("save_token","L\u01b0u token"),chrome.contextMenus.onClicked.addListener(function(){var e=(0,r.Z)(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.menuItemId,e.next="auto_check"===e.t0?3:"save_token"===e.t0?5:7;break;case 3:return m(t.checked),e.abrupt("break",7);case 5:return chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{command:"get_token"},(function(e){e.success?chrome.storage.sync.set({token:e.token}):console.log(e.message)}))})),e.abrupt("break",7);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}},function(e){var t;t=5948,e(e.s=t)}]);
//# sourceMappingURL=background.js.map